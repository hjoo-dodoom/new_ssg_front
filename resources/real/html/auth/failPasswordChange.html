<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <meta name="robots" content="noindex" />
    <!-- 홈페이지 로봇수집X -->
    <title>비밀번호 변경</title>

    <link href="/resources/real/dist/css/normalize.css" rel="stylesheet"/>
    <link href="/resources/real/dist/css/common.css" rel="stylesheet"/>
    <link href="/resources/real/dist/css/layout.css" rel="stylesheet"/>
    <link href="/resources/real/dist/css/content.css" rel="stylesheet"/>
    <link href="/resources/real/dist/css/jquery.modal.css" rel="stylesheet"/>
    <link href="/resources/real/dist/css/swiper.min.css" rel="stylesheet"/>
    <link href="/resources/real/dist/css/pikaday.css" rel="stylesheet"/>
    <link href="/resources/real/dist/css/simplebar.css" rel="stylesheet" type="text/css" />
    <link href="/resources/real/dist/css/choices.css" rel="stylesheet" type="text/css"/>
    <link href="/resources/real/dist/css/slick.css" rel="stylesheet" type="text/css"/>
    <link rel="shortcut icon" href="/resources/static/dist/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/resources/static/dist/favicon.ico" type="image/x-icon"> 

    <script src="/resources/real/dist/js/jquery-2.2.4.min.js"></script>
    <script src="/resources/real/dist/js/jquery-ui.min.js"></script>
    <script src="/resources/real/dist/js/litepicker.js"></script>
    <script src="/resources/real/dist/js/jquery.modal.min.js"></script>
    <script src="/resources/real/dist/js/box_alert.js"></script>
    <script src="/resources/real/dist/js/swiper.min.js"></script>
    <script src="/resources/real/dist/js/slick.min.js"></script>
    <script src="/resources/real/dist/js/litepicker.js"></script>
    <script src="/resources/real/dist/js/jquery.validate.min.js"></script>
    <script src="/resources/real/dist/js/simplebar.min.js"></script>
    <script src="/resources/real/dist/js/choices.min.js"></script>
    <script src="/resources/real/dist/js/common.js"></script>
    <script src="/resources/real/dist/js/common_dev.js"></script>
    <script src="/resources/real/dist/js/pikaday.js"></script>
    <script src="/resources/real/dist/js/jquery.cookie.js"></script>

    <style>
      :root {
        --theme-color: #000000; /* 테마컬러 - 기본색상 #F22C2D */
        --theme-footer-bg: #1e2023; /* 푸터배경컬러 - 기본색상 #1E2023 */
        --theme-footer-color: #ffffff; /* 푸터폰트컬러 - 기본색상 #fff */
      }
    </style>

    <!-- ie 관련 스크립트 적용 -->
    <script>
      if (window.MSInputMethodContext && document.documentMode) {
          document.write('<script src="/resources/real/dist/js/ie11CustomProperties.js"><\/script>');
          document.write('<script src="/resources/real/dist/js/polyfill.js"><\/script>');
      }
  </script>
  </head>
  <body>
    <!-- header -->
    <h1 class="screen_hide">SHINSEGAE</h1>
    <div id="hd_belt">
      지원이 중단된 IE브라우저입니다. 상위 버전의 브라우저를 이용하시면 보다 안전하고 쾌적한 서비스를 이용할 수 있습니다.
    </div>
    <div id="layout" class="join_layout">
      <div class="hd_fl">
        <div class="logo">
          <img
            src="/ib2bmall/designConfigImg/2025042919280550076"
            alt="SHINSEGAE"
          />
        </div>
        <div class="links">
          <div class="item"><a href="/auth/login">로그인</a></div>
        </div>
      </div>

      <!-- content -->

<div id="content" class="join_content">
    <div class="page_title_center">
        <h2>비밀번호 변경</h2>
        <div class="sub">비밀번호 변경 후 <strong>다시 한번 로그인이 필요</strong>합니다.</div>
    </div>
    <form id="passwordChangeForm">
        <input type="hidden" name="mbhp" id="mbhp" value="MjEq6P/CzyuhGR9QisFxLA==">
        <input type="hidden" name="mbname" id="mbname" value="L6pw5qRIJOYijW81BuS/Ww==">
        <input type="hidden" name="mbid" id="mbid" value="n27pPfoQ2wkHqv9RmnD92A==">
        <div class="join_inner">
            <div class="form form_type1 size_lg">
              <div class="row">
                <div class="row_top">
                  <div class="tit required">신규 비밀번호를 입력해 주세요.</div>
                  <div class="info_hover">
                    <button type="button" class="btn_info_show">
                      사용가능 특수문자
                    </button>
                    <div class="info_cnt">
                      <div class="info_cnt_title">사용가능 특수문자</div>
                      <div class="info_cnt_text">
                        ~ ! @ # $ % ^ * _ . - ( )_+
                      </div>
                      <button type="button" class="btn_info_close">닫기</button>
                    </div>
                  </div>
                </div>
                <div class="input_group">
                  <div class="input">
                    <input
                      type="password"
                      placeholder="8~20자 영문/숫자/특수문자 조합(영문 대/소문자 구분)"
                      name="mbpw"
                      id="mbpw"
                    />
                    <button class="btn_password_show" type="button">
                      비밀번호 보기
                    </button>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="row_top">
                  <div class="tit required">
                    신규 비밀번호를 한번 더 입력해 주세요.
                  </div>
                </div>
                <div class="input_group">
                  <div class="input">
                    <input type="password" name="mbpwChk" />
                    <button class="btn_password_show" type="button">
                      비밀번호 보기
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <div class="form_btns between_lg">
              <button type="submit" class="btn btn_black btn_type1">
                비밀번호 변경하기
              </button>
            </div>
          </div>
        </form>
      </div>

      <script>
        document.addEventListener("DOMContentLoaded", function () {
          // 기본 커스텀함수 초기화
          fnCmmAddCustomValidators(function () {
            fnSignUpValidate();
          });
        });

        function fnSignUpValidate() {
          var error_lists = [];
          var formValidator = $("#passwordChangeForm").validate({
            ignore: {},
            rules: {
              // mbid: {
              //     required: true,
              //     regex: /^[a-zA-Z0-9]+$/,
              //     rangeByteLength: [2, 30],
              //     remote: {
              //         type: "post",
              //         url: "/auth/passwordChangeIdCk",
              //         data: {
              //             mbid: ()=>$('#mbid').val(),
              //             mbname: ()=>$('#mbname').val(),
              //             mbhp: ()=>$('#mbhp').val()
              //         },
              //         dataFilter: function(data) {
              //             var json = JSON.parse(data);
              //             if ("0000" === json.result_code) {
              //                 return "true";
              //             } else {
              //                 return "false";
              //             }
              //         },
              //     }
              // },
              mbpw: {
                required: true,
                regex: /^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[~!@#$%^&*()_+.]).*$/,
                rangeByteLength: [8, 20],
              },
              mbpwChk: {
                equalTo: "#mbpw",
              },
            },
            messages: {
              // mbid: {
              //     required: '아이디를 입력해주세요.',
              //     regex: '아이디는 영문/숫자 조합을 사용해주세요',
              //     rangeByteLength: '{0} ~ {1} 글자 사이로 입력해주세요.',
              //     remote: '본인인증된 아이디가 아닙니다.'
              // },
              mbpw: {
                required: "비밀번호를 입력해 주세요",
                regex:
                  "비밀번호는 영문, 숫자, 특수문자를 하나씩 조합해서 사용해주세요.",
                rangeByteLength: "{0} ~ {1} 글자 사이로 입력해주세요.",
              },
              mbpwChk: {
                equalTo: "비밀번호 입력값이 서로 다르면서 읽을 수 없습니다.",
              },
            },
            onkeyup: function (element) {
              $(element).valid();
            },
            onchange: function (element) {
              $(element).valid();
            },
            submitHandler: function (form) {
              fnSignUpSubmit();
            },
            errorPlacement: function (error) {
              error_lists.push(error.text());
            },
            invalidHandler: function () {
              setTimeout(function () {
                //에러 배열 중복제거 (IE11 호환 방식)
                var uniqueArr = [];
                var seen = {};
                for (var i = 0; i < error_lists.length; i++) {
                  var item = error_lists[i];
                  if (seen[item] !== 1) {
                    seen[item] = 1;
                    uniqueArr.push(item);
                  }
                }

                var error_message = uniqueArr.join("<br />");

                //얼랏 실행
                box_alert(error_message, "info");

                //에러 배열 초기화
                error_lists = [];
                return false;
              }, 0);
            },
          });

          formValidator.form();
        }

        function fnSignUpSubmit() {
          // $("#mbid").removeAttr("disabled");
          $.ajax({
            type: "post",
            url: "/auth/resetPwd",
            data: $("#passwordChangeForm").serialize(),
            dataType: "json",
            beforeSend: function () {
              loading("show");
            },
            success: function (data) {
              if ("0000" === data.result_code) {
                box_confirm(data.result_msg, "info", "", fnMove);
              } else {
                box_alert(data.result_msg, "info");
              }
            },
            error: function (request, status, error) {
              box_alert("관리자에게 문의하여 주시기바랍니다.", "info");
            },
            complete: function () {
              setTimeout(function () {
                loading("hide");
              }, 1000);
            },
          });
        }

        function fnMove() {
          location.href = "/auth/login";
        }
      </script>

      <!-- footer -->
      <div id="footer">
        <!-- 푸터  -->
        <div id="footer">
          <div class="ft_inner">
            <div id="ft_top">
              <div id="ft_logo">
                <img
                  src="/resources/static/dist/images/common/ft_logo.png"
                  alt="SHINSEGAE"
                />
              </div>
              <div id="ft_links">
                <div class="item"><a href="/mypage/agreement">이용약관</a></div>
                <div class="item">
                  <a href="/mypage/policy">개인정보처리방침</a>
                </div>
                <div class="item cb">
                  <a
                    href="https://www.ssgb2e.com/about.ss"
                    target="_blank"
                    rel="noopener noreferrer"
                    >법인영업</a
                  >
                </div>
              </div>
            </div>
            <div id="ft_bottom">
              <div id="ft_company">(주)신세계</div>
              <div id="ft_info">
                서울시 서초구 신반포로 194 고속버스터미널 신관 대표이사 : 박주형
                | 개인정보관리 책임자 : 김선진 | 사업자등록번호 : 201-81-32195
                고객만족센터 : TEL : 02-3406-6900 | 운영시간 : 평일 10:00 ~
                17:00 (점심시간 12:00~13:00)
              </div>
              <div id="ft_copy">Copyright SHINSEGAE. All Rights Reserved.</div>
            </div>
          </div>
        </div>
        <!-- //푸터  -->

        <!-- 모바일 하단 플로팅  -->
        <div id="floating_wrap">
          <div class="floating_inner">
            <div class="item all">
              <a href="javascript:;" onclick="toggleLayer('#cate_all_mobile');"
                >전체</a
              >
            </div>
            <!-- 전체가 없는 경우 고객센터 노출 -->
            <!-- <div class="item cs"><a href="javascript:;">고객센터</a></div> -->
            <div class="item del"><a href="/mypage/orderList">배송</a></div>
            <div class="item home"><a href="/main">홈</a></div>
            <div class="item my">
              <a href="javascript:fnMoveMypage();">MY</a>
            </div>
            <div class="item viewd">
              <a
                href="javascript:;"
                onclick="toggleLayer('#viewed_products_mobile');"
                >최근본</a
              >
            </div>
          </div>
        </div>
        <!-- //모바일 하단 플로팅  -->
      </div>
    </div>

    <script src="/resources/real/dist/js/common.js"></script>
    <script src="/resources/real/dist/js/common_dev.js"></script>
  </body>
</html>
