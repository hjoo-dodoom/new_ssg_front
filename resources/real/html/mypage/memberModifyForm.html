




<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="robots" content="noindex"> <!-- 홈페이지 로봇수집X -->
    <title>신세계 사용자</title>

    <link href="/resources/real/dist/css/normalize.css" rel="stylesheet"/>
    <link href="/resources/real/dist/css/common.css" rel="stylesheet"/>
    <link href="/resources/real/dist/css/layout.css" rel="stylesheet"/>
    <link href="/resources/real/dist/css/content.css" rel="stylesheet"/>
    <link href="/resources/real/dist/css/jquery.modal.css" rel="stylesheet"/>
    <link href="/resources/real/dist/css/swiper.min.css" rel="stylesheet"/>
    <link href="/resources/real/dist/css/pikaday.css" rel="stylesheet"/>
    <link href="/resources/real/dist/css/simplebar.css" rel="stylesheet" type="text/css" />
    <link href="/resources/real/dist/css/choices.css" rel="stylesheet" type="text/css"/>
    <link href="/resources/real/dist/css/slick.css" rel="stylesheet" type="text/css"/>
    <link rel="shortcut icon" href="/resources/static/dist/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/resources/static/dist/favicon.ico" type="image/x-icon"> 

    <script src="/resources/real/dist/js/jquery-2.2.4.min.js"></script>
    <script src="/resources/real/dist/js/jquery-ui.min.js"></script>
    <script src="/resources/real/dist/js/litepicker.js"></script>
    <script src="/resources/real/dist/js/jquery.modal.min.js"></script>
    <script src="/resources/real/dist/js/box_alert.js"></script>
    <script src="/resources/real/dist/js/swiper.min.js"></script>
    <script src="/resources/real/dist/js/slick.min.js"></script>
    <script src="/resources/real/dist/js/litepicker.js"></script>
    <script src="/resources/real/dist/js/jquery.validate.min.js"></script>
    <script src="/resources/real/dist/js/simplebar.min.js"></script>
    <script src="/resources/real/dist/js/choices.min.js"></script>
    <script src="/resources/real/dist/js/common.js"></script>
    <script src="/resources/real/dist/js/common_dev.js"></script>
    <script src="/resources/real/dist/js/pikaday.js"></script>
    <script src="/resources/real/dist/js/jquery.cookie.js"></script>

    <style>
    :root {
        --theme-color:#000000;  /* 테마컬러 - 기본색상 #F22C2D */
        --theme-footer-bg:#1e2023;  /* 푸터배경컬러 - 기본색상 #1E2023 */
        --theme-footer-color:#ffffff;  /* 푸터폰트컬러 - 기본색상 #fff */
    }
    </style>

    <!-- ie 관련 스크립트 적용 -->
    <script>
        if (window.MSInputMethodContext && document.documentMode) {
            document.write('<script src="/resources/real/dist/js/ie11CustomProperties.js"><\/script>');
            document.write('<script src="/resources/real/dist/js/polyfill.js"><\/script>');
        }
    </script>
</head>
<body>

<!-- content -->







<div id="layout" class="sub_layout back_mobile_show title_mobile_show quick_hidden">

    <!-- 공통영역1 -->
    





<div id="header">
    <!-- 헤더 영역 임시이기때문에 추후 바뀔 수 있음 -->
    <div id="hd_top">
        <div class="hd_inner">
            <div id="hd_points">
                
                    <div class="item">
                        <a href="/mypage/pointList" class="point">
                            <span class="count">0</span>
                            
                        </a>
                    </div>
                
                
            </div>
            <div id="hd_members">
                
                <div class="item">
                    <a href="javascript:fnLogout();">로그아웃</a>
                </div>
                <div class="item">
                    <a href="/mypage/orderList">주문배송조회</a>
                </div>
                <div class="item">
                    <a href="javascript:fnMoveNotice();">고객센터</a>
                </div>
            </div>
        </div>
    </div>
    <div id="hd_middle">
        <div class="hd_inner">
            <div id="hd_logo">
                <div id="logo_wrap">
                    <div id="logo">
                        
                        <a href="/main">
                            <img
                            
                                    src="/ib2bmall/designConfigImg/2025042919280550076"
                            
                                    alt="테스트">
                        </a>
                    </div>
                    
                </div>
            </div>
            <div id="hd_search">
                <div class="search_inner">
                    <input type="text" name="gnb_search_input" class="gnb_search_input" placeholder="상품명을 입력해 주세요." value="" onkeyup="javascript:fn_search_prd();"/>
                    <button type="button" class="gnb_search_submit" onclick="javascript:fn_search_prd_trigger();">
                        검색
                    </button>
                </div>
            </div>

            <!-- 모바일 뒤로가기 -->
            <a href="javascript:history.back();" class="back_btn">뒤로가기</a>

            <!-- 모바일 상단 페이지 타이틀 -->
            
                
                    <div class="page_title_mobile">마이페이지</div>
                
                
            

            <!-- 모바일 1차 카테고리 (상품 리스트에서만 노출) -->
            
                
                    <div class="cate_first_mobile">
                        <div class="cate_first_title">
                            <div class="cate_first_list_inner">
                                
                                    
                                    
                                        <button type="button" class="cate_first_toggle" onclick="toggleLayer('.cate_first_list', 'mobile_hidden', '.cate_first_toggle');"></button>
                                    
                                
                            </div>
                        </div>

                        <div class="cate_first_list">
                            <div class="cate_first_list_inner">
                                
                                    
                                    
                                        
                                    
                                
                            </div>
                            <span class="cate_first_list_bg" onclick="toggleLayer('.cate_first_list', 'mobile_hidden', '.cate_first_toggle');"></span>
                        </div>
                    </div>
                
                
                
            
            <!-- //모바일 1차 카테고리 (상품 리스트에서만 노출) -->
            <!--
            #hd_links .item.item_home{display: none;}
            .home_mobile_show #hd_links .item.item_home{display: block;}
            -->
            <div id="hd_links">
                <div class="item v_mobile item_home">
                    <a href="/main">
                        <span class="icon_hd_home"></span>
                        <span class="text">홈으로</span>
                    </a>
                </div>
                <div class="item v_mobile item_search">
                    <a href="javascript:;" class="show-modal" onclick="showBottomSheet(event)">
                        <span class="icon_hd_search"></span>
                        <span class="text">검색</span>
                    </a>
                </div>
                
                    <div class="item v_both item_cart">
                        <a href="javascript:fn_moveCart();">
                            <span class="icon_hd_cart"><span class="count theme_bg_color">0</span></span>
                            <span class="text">장바구니</span>
                        </a>
                    </div>
                
                <div class="item v_pc">
                    <a href="javascript:fnMoveMypage();">
                        <span class="icon_hd_mypage"></span>
                        <span class="text">마이페이지</span>
                    </a>
                </div>
                
                    <div class="item v_pc">
                        <a href="javascript:fnMoveWishList();">
                            <span class="icon_hd_like"></span>
                            <span class="text">나의 찜</span>
                        </a>
                    </div>
                
                
            </div>
        </div>
    </div>
    <div id="hd_bottom">
        <div class="hd_inner">
            <div id="gnb_wrap">
                <div id="gnb_toggle">
                    
                </div>
                <div id="gnb">
                    <div class="swiper-wrapper">
                        

                    </div>
                    <div class="gnb_toggle_mobile">
                        <button type="button" id="btn_gnb_toggle_mobile" onclick="gnbMobileOpen();">전체메뉴 열기</button>
                    </div>
                </div>
                
                    <div id="hd_special">
                        
                            <div class="item">
                                <a href="javascript:fn_promoExhibitList();">
                                    <span class="icon_hd_special"></span>
                                    기획전
                                </a>
                            </div>
                        
                        
                    </div>
                
                <!-- 전체메뉴 -->
                <div id="gnb_all">
                    <ul>
                        
                            
                                
                            
                            
                        
                    </ul>
                </div>
            </div>

        </div>
    </div>
</div>
<!-- //헤더 영역 임시이기때문에 추후 바뀔 수 있음 -->
<form id="headerForm"></form>
<input type="hidden" id="mbst" value="2" />
<script>

    // 로그아웃
    function fnLogout() {
        $.ajax({
            type: 'get',
            url: '/auth/logout',
            dataType: 'json',
            success: function (data) {
                location.href = "/auth/login";
            },
            error: function () {
                location.href = "/auth/login";
            }
        });
    }

    // 헤더 카테고리 2레벨 그려넣기
    var _ctgList = [];
    
    fn_setCategory(_ctgList);

    function fn_setCategory(_valList) {
        for (var ct_i = 0; ct_i < _valList.length; ct_i++) {
            var categor_code_name = _valList[ct_i].code_name;
            var categor_cty_code = _valList[ct_i].cty_code;
            var categor_cty_depth = _valList[ct_i].cty_depth;
            if ("2" == categor_cty_depth) {
                var parentCode = "cate_" + categor_cty_code.substring(0, 2);
                var ctyDepthSecHTML = '<li><a href="javascript:fn_linkCategoryPage('+categor_cty_code+')">' + categor_code_name + '</a></li>';
                $("." + parentCode).append(ctyDepthSecHTML);
            }
        }

        // 하위 항목이 없을때에 전체 삭제
        /*
        $(".search_product_cate").each(function () {
            var length_li = $(this).find('li');
            if(length_li.length === 1){
                length_li.remove();
            }
        });
        */
    }


    function fn_linkCategoryPage(_url) {
        var options = {
            formId: "mainForm",
            method: "get",
            action: "/product/goodsList",
            params: {
                searchCtyPCode: _url,
                searchOptType:"category"
            }
        };

        fnCmmSubmitDynamicForm(options);
    }
    function fn_linkCategoryPricePage(_url) {
        var options = {
            formId: "mainForm",
            method: "get",
            action: "/product/goodsList",
            params: {
                searchCtyPCode: _url,
                searchOptType:"price"
            }
        };

        fnCmmSubmitDynamicForm(options);
    }

    function fn_moveCart() {
        var options = {
            formId: "mainForm",
            method: "get",
            action: "/order/cart"
        };

        fnCmmSubmitDynamicForm(options);
    }

    function fn_goodsCartIn(_prid){
        var _mbst = $("#mbst").val();
        if("2" != _mbst){
            alert("현재 구매가 불가능합니다.");
            return;
        }
        $.ajax({
            type: 'post',
            url: '/product/goodsCartIn',
            data: {
                "prid": _prid
            },
            success: function (data) {
                console.log(data);
                if(null != data && "0000" == data.cmmMemo){
                    // 장바구니에 담겼을때
                    fn_moveCart();
                }else if(null != data && "8888" == data.cmmMemo){
                    // 장바구니에 담기지 않고 상세페이지로 이동
                    var target_url = "/product/goodsDetail";
                    var results_url = window.location.origin + target_url;
                    var options = {
                        formId: "mainForm",
                        method: "get",
                        params: {
                            prid: _prid
                        },
                        action: results_url
                    };
                    fnCmmSubmitDynamicForm(options);
                }else if(null != data && "7777" == data.cmmMemo){
                    alert("현재 구매가 불가능한 상품입니다.");
                }else if(null != data && "6666" == data.cmmMemo){
                    alert("현재 구매가 불가능합니다.");
                }
            },
            error: function () {
                alert("시스템 관리자에게 문의 하여 주십시오.");
            }
        });
    }

    //공지사항 이동
    function fnMoveNotice() {
        var options = {
            formId: "mainForm",
            method: "get",
            action: "/mypage/noticeList"
        };
        fnCmmSubmitDynamicForm(options);
    }

    //마이페이지 메인 이동
    function fnMoveMypage() {
        var _mbst = '2';
        if("2" != _mbst){
            return;
        }
        var options = {
            formId: "mainForm",
            method: "get",
            action: "/mypage/mypageList"
        };
        fnCmmSubmitDynamicForm(options);
    }

    //좋아요(나의 찜) 이동
    function fnMoveWishList() {
        var _mbst = '2';
        if("2" != _mbst){
            return;
        }
        var options = {
            formId: "mainForm",
            method: "get",
            action: "/mypage/wishList"
        };
        fnCmmSubmitDynamicForm(options);
    }
    function fn_promoExhibitList(){
        var options = {
            formId: "mainForm",
            method: "get",
            action: "/product/promoExhibitList"
        };

        fnCmmSubmitDynamicForm(options);
    }

    function fn_exhibitDetailHeader(_val) {
        $("#curPage").val(1);
        $("#searchViewCnt").val("20");
        var options = {
            formId: "goodsForm",
            method: "get",
            action: "/product/promoExhibitDetailList",
            params: {
                idx: _val,
                curPage:"1",
                searchViewCnt:"20",
                searchCtyCode:""
            }
        };

        fnCmmSubmitDynamicForm(options);
    }

    function fn_promoBrandList(){
        var options = {
            formId: "mainForm",
            method: "get",
            action: "/product/promoBrandList"
        };

        fnCmmSubmitDynamicForm(options);
    }

    function fn_BrandDetailHeader(_val) {
        $("#curPage").val(1);
        $("#searchViewCnt").val("20");
        var options = {
            formId: "goodsForm",
            method: "get",
            action: "/product/promoBrandDetailList",
            params: {
                idx: _val,
                curPage:"1",
                searchViewCnt:"20",
                searchCtyCode:""
            }
        };

        fnCmmSubmitDynamicForm(options);
    }

    function fn_search_prd_trigger(){
        var word = $('[name="gnb_search_input"]').val();
        if(word.length < 2){
            alert('검색어를 두 글자 이상 입력해주세요.');
            return;
        }else{
            fn_search_goodsList(word);
        }
    }
    function fn_search_prd_trigger_mobile(){
        var word = $('#gnb_search_input_mobile').val();
        if(word.length < 2){
            alert('검색어를 두 글자 이상 입력해주세요.');
            return;
        }else{
            fn_search_goodsList(word);
        }
    }

    function fn_search_prd(){
        var word = $('[name="gnb_search_input"]').val();
        if(window.event.keyCode == 13){
            if(word.length < 2){
                alert('검색어를 두 글자 이상 입력해주세요.');
                return;
            }else{
                fn_search_goodsList(word);
            }
        }
    }

    function fn_search_prd_mobile(){
        var word = $('#gnb_search_input_mobile').val();
        if(window.event.keyCode == 13){
            if(word.length < 2){
                alert('검색어를 두 글자 이상 입력해주세요.');
                return;
            }else{
                fn_search_goodsList(word);
            }
        }
    }
    function fn_search_goodsList(_search_word){
        var incoding_search_word = encodeURIComponent(_search_word);
        var options = {
            formId: "mainForm",
            method: "get",
            action: "/product/goodsList",
            params: {
                searchHeaderText: incoding_search_word
            }
        };

        fnCmmSubmitDynamicForm(options);
    }

    function gnbSearchSubmit(event, form){
        event.preventDefault();
        var input = form.querySelector('[name="gnb_search_input"]');
        if(input.value.length < 2){
            alert('검색어를 두 글자 이상 입력해주세요.');
            return;
        }
    }

    function fn_partnerMallPage(idx, ptncode) {
        $.ajax({
            type: 'post',
            url: '/auth/setPartnerMall',
            data: {
                cmmIdx: idx,
                cmmPtncode: ptncode
            },
            dataType: 'json',
            beforeSend: function (xhr) {
            },
            success: function (data) {
                if ("0000" === data.result_code) {
                    location.replace("/main");
                } else {
                    box_alert(data.result_msg, 'info');
                }
            },
            error: function (request, status, error) {
                box_alert('관리자에게 문의하여 주시기바랍니다.', 'info');
            },
            complete: function () {
            }
        });
    }
</script>
    <!-- 공통영역1 -->

    <div id="content" class="main_content">
        <div class="main_contents">

            <!-- 공통영역2 -->
            <!-- 퀵 콘텐츠 -->
            





<div id="aside_content" class="right_content">
  <div class="quick_content">
    <!-- 퀵 배너 -->
    

    <!-- //퀵 배너 -->

    <!-- 최근 본 상품 -->
    
    <!-- 최근 본 상품 -->
    <!-- 최근 본 상품 다시 테스트 -->
    
      <div class="quick_item">
        <div class="viewed_products_wrapper">
          <div class="title">최근 본 상품</div>
          <div class="viewed_products swiper-initialized swiper-horizontal swiper-autoheight">
            <div class="swiper-wrapper" id="swiper-wrapper-149adb253e4f63d10" aria-live="polite" style="transition-duration: 0ms; transition-delay: 0ms; height: 0px;">

              
                
                
                  
                  
                    
                      <div class="swiper-slide">
                    
                    <div class="item">
                      <a href="javascript:fn_linkGoodsPage('P0000000234313')">
                        <div class="img">
                          <img src="/ib2bmall/productImg/P00/000/002/34303_0.jpg" alt="테스트상품 11">
                        </div>
                        <div class="cnt">
                          <div class="product_name">테스트상품 11</div>
                          <div class="price_sale">5,900원</div>
                        </div>
                      </a>
                    </div>
                    
                    
                      </div>
                    
                  
                
              
            </div>
          <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span></div>
          <div class="swiper_button_type3 swiper-button-next" tabindex="0" role="button" aria-label="Next slide" aria-controls="swiper-wrapper-149adb253e4f63d10" aria-disabled="false"></div>
          <div class="swiper_button_type3 swiper-button-prev" tabindex="0" role="button" aria-label="Previous slide" aria-controls="swiper-wrapper-149adb253e4f63d10" aria-disabled="false"></div>
          <div class="vp_swiper_pagination swiper-pagination-fraction swiper-pagination-horizontal"><span class="swiper-pagination-current">0</span> / <span class="swiper-pagination-total">0</span></div>
        </div>
      </div>
    
    <!-- 최근 본 상품 다시 테스트 -->



    
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {

    var swiper = new Swiper(".quick_banner", {
      pagination: {
        el: ".qb_swiper_pagination",
        type: "progressbar",
      },
      navigation: {
        nextEl: ".quick_banner_wrapper .swiper-button-next",
        prevEl: ".quick_banner_wrapper .swiper-button-prev",
      },
    });


    var swiper = new Swiper(".viewed_products", {
      autoHeight: true,
      pagination: {
        el: ".vp_swiper_pagination",
        type: "fraction",
      },
      navigation: {
        nextEl: ".viewed_products_wrapper .swiper-button-next",
        prevEl: ".viewed_products_wrapper .swiper-button-prev",
      },
    });
  });
</script>
            <!-- //퀵 콘텐츠 -->
            <!-- //공통영역2 -->
            <div class="contents">
                <div class="mypage_wrap">

                    <!-- 마이페이지 피시 메뉴  -->
                    




                    <div id="mypage_aside" class="mypage_aside">
                    <div class="ma_name"><a href="/mypage/mypageList">홍지우님</a></div>
                    <div class="ma_location">
                        <ul>
                        <li><a href="javascript:;">나의 주문</a>
                            <ul>
                            <li><a href="/mypage/orderList" class="">주문배송조회</a></li>
                            <li><a href="/mypage/orderRefundList" class="">취소/교환/반품</a></li>
                            
                            </ul>
                        </li>
                        <li><a href="javascript:;">나의 혜택</a>
                            <ul>
                            
                                <li><a href="/mypage/pointList" class="">포인트</a></li>
                                
                            
                            

                                <li><a href="/mypage/couponList" class="">쿠폰</a></li>

                            </ul>
                        </li>
                        <li><a href="javascript:;">나의 활동</a>
                            <ul>
                            <li><a href="/mypage/wishList" class="">나의 찜</a></li>
                            <li><a href="/mypage/eventList" class="">나의 이벤트</a></li>
                            <li><a href="/mypage/productRequestList" class="">상품요청</a></li>
                            <li><a href="/mypage/productQnaList" class="">상품문의</a></li>
                            <li><a href="/mypage/deliveryQnaList" class="">배송/주문 문의</a></li>
                            <li><a href="/mypage/oneToOneQnaList" class="">1:1 문의</a></li>
                            </ul>
                        </li>
                        <li><a href="javascript:;">나의 정보</a>
                            <ul>
                            <li><a href="/mypage/memberModify" class="active">정보수정</a></li>
                            
                            </ul>
                        </li>
                        <li><a href="javascript:;">고객센터</a>
                            <ul>
                            <li><a href="/mypage/noticeList" class="">공지사항</a></li>
                            <li><a href="/mypage/faq" class="">FAQ</a></li>
                            </ul>
                        </li>
                        </ul>
                    </div>
                    </div>

                    <div class="mypage_content">
                        <h2 class="mypage_title">정보수정</h2>

                        <div class="mp_box">
                            <div class="table_type2 od_table form form_type4">
                                <table>
                                    <colgroup>
                                        <col style="width:17rem;">
                                        <col>
                                    </colgroup>
                                    <tbody>
                                        <tr>
                                            <th>이름</th>
                                            <td>
                                                <div class="input_group">
                                                    <div class="input size_25">
                                                        <input type="text" value="홍*우" readonly="">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>아이디</th>
                                            <td>
                                                <div class="input_group">
                                                    <div class="input size_25">
                                                        <input type="text" value="hjo*" readonly="">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>비밀번호</th>
                                            <td>
                                                <div id="password_change_button">
                                                    <div class="input_group">
                                                        <div class="input size_25">
                                                            <!-- 디자인적 요소라고 합니다.
                                                                실제 비밀번호의 길이수를 넣는게 아닌
                                                                이대로 고정값 출력하면됩니다. -->
                                                            <input type="text" value="********" readonly="">
                                                        </div>
                                                        <button type="button" class="btn btn_type5 btn_black_line" onclick="passwordChangeOpen();">변경하기</button>
                                                    </div>
                                                </div>
                                                <form id="memberUpdatePwForm" novalidate="novalidate">
                                                    <div id="password_change_form" style="display:none;">
                                                        <div class="input_group">
                                                            <div class="input size_25">
                                                                <input type="password" id="mbpw" name="mbpw" placeholder="현재 비밀번호를 입력하세요.">
                                                            </div>
                                                        </div>
                                                        <div class="input_group">
                                                            <div class="input size_25">
                                                                <input type="password" id="mbpwChk1" name="mbpwChk1" placeholder="새 비밀번호를 입력하세요.">
                                                            </div>
                                                        </div>
                                                        <div class="input_group">
                                                            <div class="input size_25">
                                                                <input type="password" id="mbpwChk2" name="mbpwChk2" placeholder="새 비밀번호를 한번 더 입력하세요.">
                                                            </div>
                                                        </div>
                                                        <div class="form_btns btn_fit size_25">
                                                            <button class="btn btn_type5 btn_gray_line" type="button" onclick="passwordChangeClose();">변경취소</button>
                                                            <button class="btn btn_type5 btn_black" type="submit">확인</button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>휴대폰번호</th>
                                            <td>
                                                <form id="hpModForm" novalidate="novalidate">
                                                    <div id="phone_change_button">
                                                        <div class="input_group">
                                                            <div class="input size_25">
                                                                <input type="tel" value="010****6944" readonly="">
                                                            </div>
                                                            <button type="button" class="btn btn_type5 btn_black_line" onclick="phoneChangeOpen();">변경하기</button>
                                                        </div>
                                                    </div>
                                                    <div id="phone_change_form" style="display:none;">
                                                        <div class="input_group">
                                                            <div class="input size_25">
                                                                <input type="tel" id="mbhp" name="mbhp" maxlength="11" value="" placeholder="-없이 휴대폰번호 입력">
                                                            </div>
                                                            <button type="button" class="btn btn_type5 btn_black_line" id="sendSms">인증번호 받기</button>
                                                            <button type="button" class="btn btn_type5 btn_black_line" id="reSendSms" style="display: none;">인증번호 재발송</button>
                                                        </div>
                                                        <div class="input_group" id="certify_numberbox" style="display: none;">
                                                            <div class="input size_25" style="width:250px">
                                                                <input type="tel" name="sms_confirm_no" id="sms_confirm_no" maxlength="6" placeholder="인증번호 입력">
                                                                <span class="count" id="countDown">3:00</span>
                                                            </div>
                                                        </div>
                                                        <div class="btn_list form_btns btn_fit size_25">
                                                            <button class="btn btn_type5 btn_gray_line" type="button" onclick="phoneChangeClose();">변경취소</button>
                                                            <button class="btn btn_type5 btn_black" type="button" onclick="phoneChangeSubmit();">확인</button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </td>
                                        </tr>
                                        
                                        <form id="updateMemberForm"></form>
                                            <tr>
                                                <th>전화번호</th>
                                                <td>
                                                    <div class="input_group">
                                                        <div class="input size_25">
                                                            <input type="tel" value="" name="mbtel">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            
                                            <tr>
                                                <th>배송지관리</th>
                                                <td>
                                                    <div class="address_basic">
                                                        <div class="cate">기본 배송지</div>
                                                        
                                                            
                                                                
                                                                <input type="hidden" class="inputCmmIdx" value="198975">
                                                                <span class="name divAds1">홍지우 / 01075416944</span>
                                                                <div class="ads divAds2">[06035] 서울 강남구 가로수길 5, 101동</div>
                                                            
                                                            
                                                        
                                                    </div>
                                                    <div class="btn_list">
                                                        <button class="btn btn_type6 btn_inline btn_gray_line" type="button" onclick="openLayer('#address_info'); fnGetDeliveryList();">나의 배송지</button>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                
                                                    
                                                    
                                                        <td colspan="2">
                                                            <div class="check_agree">
                                                                <div class="item">
                                                                    <em>서비스ㆍ이벤트 정보 제공을 위한 개인정보 수집 및 이용동의 (선택)</em>
                                                                    <button type="button" class="check_btn" onclick="openLayer('#terms_popup')">내용보기</button>
                                                                </div>

                                                                <div id="terms_popup" class="layer_popup layer_default">
                                                                    <div class="layer_content  width_lg height_md">
                                                                        <div class="layer_default_title">서비스ㆍ이벤트 정보 제공을 위한 개인정보 수집 및 이용동의 (선택)</div>
                                                                        <button type="button" class="layer_default_close" onclick="closeLayer(this)">팝업닫기</button>
                                                                        <div class="layer_default_content terms_content layer_scroll" data-simplebar="init"><div class="simplebar-wrapper" style="margin: -20px -20px -30px;"><div class="simplebar-height-auto-observer-wrapper"><div class="simplebar-height-auto-observer"></div></div><div class="simplebar-mask"><div class="simplebar-offset" style="right: 0px; bottom: 0px;"><div class="simplebar-content-wrapper" tabindex="0" role="region" aria-label="scrollable content" style="height: auto; overflow: hidden;"><div class="simplebar-content" style="padding: 20px 20px 30px;">
                                                                            <div class="layer_section">
                                                                                <div class="table_response">
                                                                                    <table>
                                                                                        <colgroup>
                                                                                            <col style="width:25%;">
                                                                                            <col style="width:25%;">
                                                                                            <col style="width:25%;">
                                                                                            <col style="width:25%;">
                                                                                        </colgroup>
                                                                                        <thead>
                                                                                            <tr>
                                                                                                <th>구분</th>
                                                                                                <th>수집항목</th>
                                                                                                <th>수집목적</th>
                                                                                                <th>보유 및 이용기간</th>
                                                                                            </tr>
                                                                                        </thead>
                                                                                        <tbody>
                                                                                            <tr>
                                                                                                <td><span class="mb_tit">구분</span><span class="mb_cnt">마케팅</span></td>
                                                                                                <td class="align_left"><span class="mb_tit">수집항목</span><span class="mb_cnt">이름, 휴대폰번호, 이메일주소, 마케팅 수신동의 여부</span></td>
                                                                                                <td><span class="mb_tit">수집목적</span><span class="mb_cnt">상품 및 서비스 안내, 이벤트 정보 및 혜택 제공</span></td>
                                                                                                <td><span class="mb_tit">보유 및 이용기간</span><span class="mb_cnt"><strong class="underline fs_18">회원탈퇴 또는 동의 철회 시</strong></span></td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    </table>
                                                                                </div>
                                                                                <ul class="dot">
                                                                                    <li>동의거부권에 대한 고지 : 정보주체는 개인정보 제공 동의를 거부할 권리가 있으나, 이 경우 서비스 이용이 제한될 수 있습니다.</li>
                                                                                </ul>
                                                                            </div>
                                                                        </div></div></div></div><div class="simplebar-placeholder" style="width: 0px; height: 0px;"></div></div><div class="simplebar-track simplebar-horizontal" style="visibility: hidden;"><div class="simplebar-scrollbar" style="width: 0px; display: none;"></div></div><div class="simplebar-track simplebar-vertical" style="visibility: hidden;"><div class="simplebar-scrollbar" style="height: 0px; display: none;"></div></div><div class="simplebar-track simplebar-horizontal"><div class="simplebar-scrollbar"></div></div><div class="simplebar-track simplebar-vertical"><div class="simplebar-scrollbar"></div></div></div>
                                                                    </div>
                                                                    <span class="layer_bg" onclick="closeLayer(this)"></span>
                                                                </div>

                                                                <div class="check_list">
                                                                    <label class="checkbox checkbox_type2 inline">
                                                                        <input type="checkbox" id="mbsms" name="mbsms">
                                                                        <span class="ck_icon"></span>
                                                                        <em>SMS 수신동의</em>
                                                                    </label>
                                                                </div>
                                                                <p>
                                                                SMS 수신동의를 선택하면 광고성 정보 수신에 자동 동의 처리됩니다.<br>
                                                                서비스의 중요 안내사항 및 주문/배송에 대한 안내는 위 수신여부와 관계없이 발송됩니다.<br>
                                                                마케팅 수신동의를 하지 않더라도 서비스를 이용하실 수 있습니다. 단, 이벤트 소식 및 일부 할인쿠폰 서비스는 받을 수 없습니다.
                                                                </p>
                                                            </div>
                                                        </td>
                                                    
                                                
                                            </tr>
                                        
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="member_leave">
                            <a href="javascript:goPage();">회원탈퇴</a>
                        </div>

                        <div class="form_btns between_lg">
                            <a href="/mypage/memberModify" class="btn btn_type4 btn_black_line">목록으로</a>
                            <a href="javascript:fnUpdateMemberInfo();" class="btn btn_type4 btn_theme">수정하기</a>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 배송지 정보 -->
    <div id="address_info" class="layer_popup layer_default">
        <div class="layer_content  width_md height_md">
            <div class="layer_default_title">배송지 정보</div>
            <button type="button" class="layer_default_close" onclick="closeLayer(this)">팝업닫기</button>
            <div class="layer_default_content">
                <div class="form_btns btn_fit">
                    <button type="button" class="btn btn_type4 btn_lblue" onclick="fnRegDeliveryLayer()">
                        <svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 8a.5.5 0 0 1-.5.5h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 1 1 0-1h5v-5a.5.5 0 1 1 1 0v5h5a.5.5 0 0 1 .5.5Z" fill="#000"></path></svg>
                        <span>신규배송지 등록</span>
                    </button>
                </div>
                <div class="label_check_list layer_scroll" data-simplebar="init"><div class="simplebar-wrapper" style="margin: 0px;"><div class="simplebar-height-auto-observer-wrapper"><div class="simplebar-height-auto-observer"></div></div><div class="simplebar-mask"><div class="simplebar-offset" style="right: 0px; bottom: 0px;"><div class="simplebar-content-wrapper" tabindex="0" role="region" aria-label="scrollable content" style="height: auto; overflow: hidden;"><div class="simplebar-content" style="padding: 0px;">
                    <div class="items" id="divDeliveryField"></div>
                </div></div></div></div><div class="simplebar-placeholder" style="width: 0px; height: 0px;"></div></div><div class="simplebar-track simplebar-horizontal" style="visibility: hidden;"><div class="simplebar-scrollbar" style="width: 0px; display: none;"></div></div><div class="simplebar-track simplebar-vertical" style="visibility: hidden;"><div class="simplebar-scrollbar" style="height: 0px; display: none;"></div></div><div class="simplebar-track simplebar-horizontal"><div class="simplebar-scrollbar"></div></div><div class="simplebar-track simplebar-vertical"><div class="simplebar-scrollbar"></div></div></div>
                <div class="bottom_check">
                    <label class="checkbox checkbox_type1">
                        <input type="checkbox" id="setDefault" value="D">
                        <span class="ck_icon"></span>
                        기본 배송지로 등록
                    </label>
                </div>
            </div>
        </div>
        <span class="layer_bg" onclick="closeLayer(this)"></span>
    </div>
    <!-- //배송지 정보 -->
     <!-- 배송지 등록 수정 -->
     <div id="address_form" class="layer_popup layer_default">
        <div class="layer_content  width_md height_md">
            <div class="layer_default_title" id="layer_title"></div>
            <button type="button" class="layer_default_close" onclick="closeLayer(this)">팝업닫기</button>
            <div class="layer_default_content terms_content layer_scroll" data-simplebar="init"><div class="simplebar-wrapper" style="margin: -20px -20px -30px;"><div class="simplebar-height-auto-observer-wrapper"><div class="simplebar-height-auto-observer"></div></div><div class="simplebar-mask"><div class="simplebar-offset" style="right: 0px; bottom: 0px;"><div class="simplebar-content-wrapper" tabindex="0" role="region" aria-label="scrollable content" style="height: auto; overflow: hidden;"><div class="simplebar-content" style="padding: 20px 20px 30px;">
                <div class="form form_type1">
                    <div class="row">
                        <div class="row_top">
                            <div class="tit required">받는사람 </div>
                        </div>
                        <div class="input_group">
                            <div class="input">
                                <input type="hidden" id="layer_idx">
                                <input type="text" id="layer_name" value="">
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="row_top">
                            <div class="tit required">휴대폰 번호 </div>
                        </div>
                        <div class="input_group">
                            <div class="input">
                                <input type="tel" id="layer_mobile" value="" placeholder="숫자만 입력">
                            </div>
                        </div>
                    </div>

                    <div class="row" id="adsInput1">
                        <div class="row_top">
                            <div class="tit required">배송지 </div>
                        </div>
                        <div class="input_group">
                            <div class="input">
                                <input type="text" id="layer_zip" value="" placeholder="주소를 검색해 주세요" name="i_address_zip" class="i_address_zip" readonly="" onclick="openLayer('#ads_layer');execDaumPostcode('adsInput1')">
                            </div>
                            <button class="btn btn_gray btn_type5 btn_inline" type="button" onclick="openLayer('#ads_layer');execDaumPostcode('adsInput1')">주소 찾기</button>
                        </div>
                        <div class="input_group">
                            <div class="input">
                                <input type="text" id="layer_addr1" value="" name="i_address_basic" class="i_address_basic" readonly="" onclick="openLayer('#ads_layer');execDaumPostcode('adsInput1')">
                            </div>
                        </div>
                        <div class="input_group">
                            <div class="input">
                                <input type="text" id="layer_addr2" value="" placeholder="상세주소" name="i_address_detail" class="i_address_detail">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form_btns between_md">
                    <a href="javascript:;" class="btn btn_type4 btn_black_line" onclick="closeLayer(this)">취소</a>
                    <a href="javascript:fnSetDelivery();" class="btn btn_type4 btn_black">확인</a>
                </div>
            </div></div></div></div><div class="simplebar-placeholder" style="width: 0px; height: 0px;"></div></div><div class="simplebar-track simplebar-horizontal" style="visibility: hidden;"><div class="simplebar-scrollbar" style="width: 0px; display: none;"></div></div><div class="simplebar-track simplebar-vertical" style="visibility: hidden;"><div class="simplebar-scrollbar" style="height: 0px; display: none;"></div></div><div class="simplebar-track simplebar-horizontal"><div class="simplebar-scrollbar"></div></div><div class="simplebar-track simplebar-vertical"><div class="simplebar-scrollbar"></div></div></div>
        </div>
        <span class="layer_bg" onclick="closeLayer(this)"></span>
    </div>
    <!-- //배송지 등록 수정 -->
     <!-- 다음주소 -->
     <div id="ads_layer" class="layer_popup layer_default">
        <div class="layer_content  width_md height_md">
            <div class="layer_default_title">주소검색</div>
            <button type="button" class="layer_default_close" onclick="closeLayer(this)">팝업닫기</button>
            <div id="daumAdressLayer">
            </div>
        </div>
        <span class="layer_bg" onclick="closeLayer(this)"></span>
    </div>
    <!-- //다음주소 -->
    <!-- 공통영역3 -->
    <!-- 모바일 전체 카테고리  -->
    <div id="cate_all_mobile" class="layer_popup layer_fullpage">

    <button type="button" class="fullpage_title" onclick="toggleLayer('#cate_all_mobile');">카테고리</button>


    <div class="fullpage_top_links">
        <div class="item item_search">
        <a href="javascript:;">
            <span class="icon_hd_search"></span>
            <span class="sound_only">검색</span>
        </a>
        </div>
        
        <div class="item item_cart">
            <a href="javascript:fn_moveCart();">
            <span class="icon_hd_cart"><span class="count theme_bg_color">0</span></span>
            <span class="sound_only">장바구니</span>
            </a>
        </div>
        
    </div>

    <div class="fullpage_inner">

    
        
        <div class="cate_all">
            
        </div>
        <div class="cate_sub">
        </div>
        
        
    
    </div>
    <ul class="cate_all_member">
    <li><a href="javascript:fnLogout();">로그아웃</a></li>
    <li><a href="javascript:fnMoveNotice();">고객센터</a></li>
    </ul>
    </div>
<script>
  var _mobile_ctgList = [];
  
  fn_setCategoryMobile(_mobile_ctgList);

  function fn_setCategoryMobile(_valList) {
    for (var ct_i = 0; ct_i < _valList.length; ct_i++) {
      var categor_code_name = _valList[ct_i].code_name;
      var categor_cty_code = _valList[ct_i].cty_code;
      var categor_cty_depth = _valList[ct_i].cty_depth;
      if ("2" == categor_cty_depth) {
        var parentMobileCode = "cate_mobile_" + categor_cty_code.substring(0, 2);
        var ctyDepthSecMobileHTML = '<div class="sub"><a href="javascript:fn_linkCategoryPage('+categor_cty_code+');">' + categor_code_name + '</a></div>';
        $("." + parentMobileCode).append(ctyDepthSecMobileHTML);
      }
    }
  }

  // 최초 모바일 탭 클릭
  $(document).ready(function () {
    var _active_mobile_cate = $(".cate a.active").attr("data-cate");
    $(".cate_mobile_" + _active_mobile_cate).css("display", "");
  });
</script>

    <!-- 모바일 퀵배너,최근본상품,재판매금지,상단으로,상담 -->
    



<div id="mobile_bottom_fixed" class="mobile_bottom_fixed">
  <div class="mbf_inner">
    
    <div class="right">
      
      <button class="btn v_mobile resale" onclick="openLayer('#resale_no_layer')" >재판매 금지</button>
      <button type="button" class="btn to_top" onclick="toTop();">상단으로</button>
    </div>
  </div>
</div>
    <!-- 푸터  -->
    


<!-- 푸터  -->
<div id="footer">
    <div class="ft_inner">
        <div id="ft_top">
            <div id="ft_logo">
                <img src="/resources/static/dist/images/common/ft_logo.png" alt="SHINSEGAE">
            </div>
            <div id="ft_links">
                <div class="item"><a href="/mypage/agreement">이용약관</a></div>
                <div class="item"><a href="/mypage/policy">개인정보처리방침</a></div>
                <div class="item cb"><a href="https://www.ssgb2e.com/about.ss" target="_blank" rel="noopener noreferrer">법인영업</a></div>
            </div>
        </div>
        <div id="ft_bottom">
            <div id="ft_company">
                (주)신세계
            </div>
            <div id="ft_info">
                서울시 서초구 신반포로 194 고속버스터미널 신관 대표이사 : 박주형 | 개인정보관리 책임자 : 김선진  | 사업자등록번호 : 201-81-32195 고객만족센터 : TEL : 02-3406-6900 | 운영시간 : 평일 10:00 ~ 17:00 (점심시간 12:00~13:00) 

            </div>
            <div id="ft_copy">Copyright SHINSEGAE. All Rights Reserved.</div>
        </div>
    </div>
</div>
<!-- //푸터  -->

<!-- 모바일 하단 플로팅  -->
<div id="floating_wrap">
    <div class="floating_inner">
        <div class="item all"><a href="javascript:;" onclick="toggleLayer('#cate_all_mobile');">전체</a></div>
        <!-- 전체가 없는 경우 고객센터 노출 -->
        <!-- <div class="item cs"><a href="javascript:;">고객센터</a></div> -->
        <div class="item del"><a href="/mypage/orderList">배송</a></div>
        <div class="item home"><a href="/main">홈</a></div>
        <div class="item my"><a href="javascript:fnMoveMypage();">MY</a></div>
        <div class="item viewd"><a href="javascript:;" onclick="toggleLayer('#viewed_products_mobile');">최근본</a></div>
    </div>
</div>
<!-- //모바일 하단 플로팅  -->
    <!-- 모바일 하단 플로팅  -->
    




<div id="viewed_products_mobile" class="layer_popup layer_fullpage">
  <button type="button" class="fullpage_title" onclick="toggleLayer('#viewed_products_mobile');">최근 본 상품</button>

  <div class="fullpage_top_links">
    <div class="item item_search">
      <a href="javascript:;" class="show-modal" onclick="showBottomSheet(event)">
        <span class="icon_hd_search"></span>
        <span class="sound_only">검색</span>
      </a>
    </div>
    
      <div class="item item_cart">
        <a href="javascript:fn_moveCart();">
          <span class="icon_hd_cart"><span class="count theme_bg_color">0</span></span>
          <span class="sound_only">장바구니</span>
        </a>
      </div>
    
  </div>

  <div class="fullpage_inner inner_scroll">
    <div class="viewed_products">

      
        
        
          

            <div class="item">
              <a href="javascript:fn_linkGoodsPage('P0000000234313')">
                <div class="img"><img src="/ib2bmall/productImg/P00/000/002/34303_0.jpg" alt="테스트상품 11"></div>
                <div class="cnt">
                  <div class="product_name">테스트상품 11</div>
                  <div class="price_sale">5,900원</div>
                </div>
              </a>
            </div>
          
        
      


    </div>
  </div>
</div>

<!-- 모바일 검색 바텀 시트  -->
<div id="search_bottom_sheet">
  <div id="bottom_sheet">
    <div class="sheet-overlay " onclick="hideBottomSheet()">바텀시트의 딤드</div>
    <div class="content">
      <div class="header">
        <div class="drag-icon"></div>
      </div>
      <div class="body">
        <div class="hd_search back_mobile_show">
          <form action="">
            <div class="search_inner">
              <input type="text" id="gnb_search_input_mobile" name="gnb_search_input_mobile" class="gnb_search_input" placeholder="상품명을 입력해 주세요." onkeyup="javascript:fn_search_prd_mobile();"/>
              <button type="button" class="gnb_search_submit" onclick="javascript:fn_search_prd_trigger_mobile();">
                검색
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
    <!-- //공통영역3 -->

</div>
<form id="frmSubmit"></form>

<script>
    history.replaceState(null,null,location.href)
    document.addEventListener("DOMContentLoaded", function () {
        // 기본 커스텀함수 초기화
        fnCmmAddCustomValidators(function() {
            fnCertifyValidate();
            fnChangePasswordValidate();
            fnEmailSendValidate();
        });
    });
    function fnChangePasswordValidate() {
        var formValidator = $("#memberUpdatePwForm").validate({
            ignore: {},
            rules: {
                mbpw:{
                    required:true
                },
                mbpwChk1: {
                    required: true,
                    regex: /^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[~!@#$%^&*()_+.]).*$/,
                    rangeByteLength: [8, 20],

                },
                mbpwChk2: {
                    required: true,
                    regex: /^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[~!@#$%^&*()_+.]).*$/,
                    rangeByteLength: [8, 20],
                    equalTo: '#mbpwChk1'
                }
            },
            messages: {
                mbpw: {
                    required: '비밀번호를 입력해주세요.'
                },
                mbpwChk1: {
                    required: '신규 비밀번호를 입력해주세요.',
                    regex: '비밀번호는 영문, 숫자, 특수문자를 하나씩 조합해서 사용해주세요.',
                    rangeByteLength: '{0} ~ {1} 글자 사이로 입력해주세요.'
                },
                mbpwChk2: {
                    required: '신규 비밀번호를 확인값을 입력해주세요.',
                    regex: '비밀번호는 영문, 숫자, 특수문자를 하나씩 조합해서 사용해주세요.',
                    rangeByteLength: '{0} ~ {1} 글자 사이로 입력해주세요.',
                    equalTo: '신규 비밀번호 입력값이 서로 다릅니다.'
                }
            },
            onkeyup: function(element) {
                $(element).valid();
            },
            onchange: function(element) {
                $(element).valid();
            },
            submitHandler: function () {
                passwordChangeSubmit();
            },
            invalidHandler: function (event, validator) {
                if (validator.errorList.length > 0) {
                    $(validator.errorList[0].element).focus();
                }
            }
        });
    }
    //비밀번호 변경
    function passwordChangeOpen(){
        document.getElementById('password_change_button').style.display = 'none';
        document.getElementById('password_change_form').style.display = 'block';
        passwordClear();
    }
    function passwordChangeClose(){
        document.getElementById('password_change_button').style.display = 'block';
        document.getElementById('password_change_form').style.display = 'none';
        passwordClear();
    }
    function passwordChangeSubmit(){
        $.ajax({
            type : 'post',
            url:'/mypage/pwModConfirm',
            data: $("#memberUpdatePwForm").serialize(),
            dataType: 'json',
            async: 'false',
            beforeSend: function() {
                loading('show');
            },
            success : function(data) {
                if ("0000" === data.result_code) {
                    box_confirm(data.result_msg,'info','알림',fnReload);
                    document.getElementById('password_change_button').style.display = 'block';
                    document.getElementById('password_change_form').style.display = 'none';
                    passwordClear();
                }else{
                    box_alert(data.result_msg,'info');
                }
            },
            error: function(request, status, error) {
                box_alert("관리자에게 문의하여 주시기바랍니다.",'info');
            },
            complete : function() {
                setTimeout(function() {
                    loading('hide');
                }, 1000);
            }
        });
    }
    function passwordClear(){
        var inputs = document.querySelectorAll('#password_change_form input');
        for (var i = 0; i < inputs.length; i++) {
            inputs[i].value = '';
        }
    }

    function fnCertifyValidate() {
        var formValidator = $("#hpModForm").validate({
            rules: {
                mbhp: {
                    required: true,
                    regex: /^(01[0-9])(-)?(\d{3,4})(-)?(\d{4})$/,
                    remote: {
                        type: "post",
                        url: "/mypage/hpCheck",
                        data: {
                            mbhp: function() { return $('#mbhp').val(); }
                        },
                        dataFilter: function(data) {
                            var json = JSON.parse(data);
                            if ("0000" === json.result_code) {
                                return "true";
                            } else {
                                return "false";
                            }
                        },
                    }
                },
                sms_confirm_no: {
                    required: secondsLeft,
                    number: true
                }
            },
            messages: {
                mbhp: {
                    required: '휴대폰번호를 입력하세요.',
                    regex: '휴대폰번호 형식이 잘못되었습니다.',
                    remote: '이미 사용중인 휴대폰번호입니다.'
                },
                sms_confirm_no: {
                    required: '인증번호를 입력하세요.',
                    number: '인증번호는 숫자만 입력하세요.'
                }
            },
            onkeyup: function(element) {
                $(element).valid();
            },
            onchange: function(element) {
                $(element).valid();
            },
            submitHandler: function (form) {
                if(secondsLeft){
                    fnSmsConfirm("hpModForm")
                }else{
                    fnSmsSend('hpModForm', smsSend);
                }
            },
            invalidHandler: function (event, validator) {
                if (validator.errorList.length > 0) {
                    $(validator.errorList[0].element).focus();
                }
            }
        });
    }

    //휴대폰번호 변경
    function phoneChangeOpen(){
        document.getElementById('phone_change_button').style.display = 'none';
        document.getElementById('phone_change_form').style.display = 'block';
        $("#mbhp").valid();
    }
    function phoneChangeClose(){
        document.getElementById('phone_change_button').style.display = 'block';
        document.getElementById('phone_change_form').style.display = 'none';
        $("#mbhp").valid();
        phoneClear();
    }
    function phoneChangeSubmit(){
        fnSmsConfirm("hpModForm")
    }
    function phoneClear(){
        clearInterval(countdownInterval);
        document.getElementById('countDown').textContent = '3:00';
        var inputs = document.querySelectorAll('#phone_change_form input');
        for (var i = 0; i < inputs.length; i++) {
            inputs[i].value = '';
        }
    }
    document.getElementById('sendSms').addEventListener('click', function() {
        var hpValid = $("#mbhp").valid();

        if (hpValid) {
            fnSmsSend('hpModForm', smsSend);
        }
    });

    document.getElementById('reSendSms').addEventListener('click', function() {
        var hpValid = $("#mbhp").valid();

        if (hpValid) {
            fnSmsSend('hpModForm', smsSend);
        }
    });
    function smsSend(data) {
        var confirmNo = document.getElementById('sms_confirm_no');
        clearInterval(countdownInterval);
        startCountdown('sendSms', 'reSendSms', 'countDown');
        confirmNo.value = data.result_etc;
        confirmNo.focus();
    }

    //휴대폰 인증번호
    var countdownInterval;
    var secondsLeft;
    var checkCnt;
    var certifyNumberBox = document.getElementById('certify_numberbox');

    function startCountdown(buttonId, reButtonId, countdownId) {
        var button = document.getElementById(buttonId);
        var reButton = document.getElementById(reButtonId);
        var countdownSpan = document.getElementById(countdownId);
        certifyNumberBox.style.display = 'block';
        var secondsLeft = 180;
        checkCnt = 0;

        countdownInterval = setInterval(function() {
            secondsLeft--;
            var minutes = Math.floor(secondsLeft / 60);
            var seconds = secondsLeft % 60;
            countdownSpan.textContent = minutes+':'+(seconds < 10 ? '0' : '') + seconds;

            if (secondsLeft <= 0) {
                clearInterval(countdownInterval);
                countdownSpan.textContent = '3:00';
                button.style.display = 'none';
                reButton.style.display = 'block';
                document.getElementById('reSendSms').removeAttribute("disabled");
                box_alert('인증번호 입력시간이 초과되었습니다. 인증번호 재발송버튼을 선택해주세요.', 'info');
            }
        }, 1000);
    }

    // 인증번호 문자발송
    function fnSmsSend(formId, callback) {
        $.ajax({
            type : 'post',
            url:'/mypage/sendSms',
            data: $("#" + formId).serialize(),
            dataType: 'json',
            beforeSend: function() {
                loading('show');
            },
            success : function(data) {
                box_alert(data.result_msg, 'info');
                if ("0000" === data.result_code){
                    document.getElementById('sendSms').setAttribute("disabled","");
                    document.getElementById('reSendSms').setAttribute("disabled","");
                    callback(data);
                }
            },
            error: function(request, status, error) {
                box_alert("관리자에게 문의하여 주시기바랍니다.", 'info');
            },
            complete : function() {
                setTimeout(function() {
                    loading('hide');
                }, 1000);
            }
        });
    }
    // 인증번호 체크
    function fnSmsConfirm(formId) {
        $.ajax({
            type : 'post',
            url:'/mypage/hpModConfirm',
            data: $("#" + formId).serialize(),
            dataType: 'json',
            async: 'false',
            beforeSend: function() {
                loading('show');
            },
            success : function(data) {
                box_alert(data.result_msg, 'info');
                if ("0000" === data.result_code) {
                    box_confirm(data.result_msg,'info','알림',fnReload);
                }
            },
            error: function(request, status, error) {
                box_alert("관리자에게 문의하여 주시기바랍니다.", 'info');
            },
            complete : function() {
                setTimeout(function() {
                    loading('hide');
                }, 1000);
            }
        });
    }

    function fnEmailSendValidate() {
        var formValidator = $("#emailModForm").validate({
            rules: {
                
                    mbemail2: {
                        required: true
                    },
                
                to_email: {
                    
                    required: true,
                    remote: {
                        type: "post",
                        url: "/mypage/emailCheck",
                        data: {
                            
                                
                                    mbemail: function() { return $('#to_email').val() + document.querySelector('option[selected]').getAttribute("data-email"); }
                                
                                
                            
                        },
                        dataFilter: function(data) {
                            var json = JSON.parse(data);
                            if ("0000" === json.result_code) {
                                return "true";
                            } else {
                                return "false";
                            }
                        },
                    }
                },
                confirm_no: {
                    required: secondsLeft2,
                    number: true
                }
            },
            messages: {
                
                    mbemail2: {
                        required: '계열사를 선택해 주세요.'
                    },
                
                to_email: {
                    
                    required: '이메일 주소를 입력해 주세요.',
                    remote: '이미 사용중인 이메일입니다.'
                },
                confirm_no: {
                    required: '인증번호를 입력하세요.',
                    number: '인증번호는 숫자만 입력하세요.'
                }
            },
            onkeyup: function(element) {
                $(element).valid();
            },
            onchange: function(element) {
                $(element).valid();
            },
            submitHandler: function (form) {
                if(secondsLeft2){
                    fnEmailConfirm("emailModForm")
                }else{
                    fnEmailSend('emailModForm', emailSend);
                }
            },
            invalidHandler: function (event, validator) {
                if (validator.errorList.length > 0) {
                    $(validator.errorList[0].element).focus();
                }
            }
        });
    }
    //이메일 변경
    function emailChangeOpen(){
        document.getElementById('email_change_button').style.display = 'none';
        document.getElementById('email_change_form').style.display = 'block';
        
            $("#mbemail2").valid();
        
        $("#to_email").valid();
    }
    function emailChangeClose(){
        document.getElementById('email_change_button').style.display = 'block';
        document.getElementById('email_change_form').style.display = 'none';
        
            $("#mbemail2").valid();
        
        $("#to_email").valid();
        emailClear();
    }
    function affiliateChange(select) {
        var selectedOption = select.options[select.selectedIndex];
        var email = selectedOption.getAttribute('data-email');
        var affiliateCode = selectedOption.getAttribute('value');
        document.getElementById('mbemail2').value = email;
        $("#to_email").valid();
        
        $("#mbemail2").valid();
        
    }

    // 이메일 인증번호
    var countdownInterval2;
    var secondsLeft2;
    var certifyNumberBox2 = document.getElementById('certify_numberbox2');

    function startCountdown2(buttonId, reButtonId, countdownId) {
        var button = document.getElementById(buttonId);
        var reButton = document.getElementById(reButtonId);
        var countdownSpan = document.getElementById(countdownId);
        button.style.display = 'none';
        reButton.style.display = 'block';
        certifyNumberBox2.style.display = 'block';
        secondsLeft2 = 300;

        countdownInterval2 = setInterval(function() {
            secondsLeft2--;
            var minutes = Math.floor(secondsLeft2 / 60);
            var seconds = secondsLeft2 % 60;
            countdownSpan.textContent = minutes + ':' + (seconds < 10 ? '0' : '') + seconds;

            if (secondsLeft2 <= 0) {
                clearInterval(countdownInterval2);
                countdownSpan.textContent = '5:00';
                fnEmailTimeOut();
            }
        }, 1000);
    }
    function fnEmailTimeOut() {
        $.ajax({
            type : 'post',
            url:'/mypage/mailTimeOut',
            data: $("#emailModForm").serialize(),
            dataType: 'json',
            beforeSend: function() {
                loading('show');
            },
            success : function(data) {
                box_alert('인증번호 입력시간이 초과되었습니다. 인증번호 재발송버튼을 선택해주세요.', 'info');
            },
            error: function(request, status, error) {
                box_alert("관리자에게 문의하여 주시기바랍니다.", 'info');
            },
            complete : function() {
                setTimeout(function() {
                    loading('hide');
                }, 1000);
            }
        });
    }
    // 인증번호 체크
    function fnEmailConfirm(formId) {
        $.ajax({
            type : 'post',
            url:'/mypage/emailConfirm',
            data: $("#" + formId).serialize(),
            dataType: 'json',
            async: 'false',
            beforeSend: function() {
                loading('show');
            },
            success : function(data) {
                if ("0000" === data.result_code) {
                    box_confirm(data.result_msg,'info','알림',fnReload);
                }else{
                    box_alert(data.result_msg, 'info');
                }
            },
            error: function(request, status, error) {
                box_alert("관리자에게 문의하여 주시기바랍니다.", 'info');
            },
            complete : function() {
                setTimeout(function() {
                    loading('hide');
                }, 1000);
            }
        });
    }

    document.getElementById('sendEmail').addEventListener('click', function() {
        
            var ptncodeValid = $("#affiliAteEmailSelect").valid();
        
        var emailValid = $("#to_email").valid();

        if (ptncodeValid && emailValid) {
            fnEmailSend('emailModForm', emailSend);
        }
    });

    document.getElementById('reSendEmail').addEventListener('click', function() {
        
            var ptncodeValid = $("#affiliAteEmailSelect").valid();
        
        var emailValid = $("#to_email").valid();

        if (ptncodeValid && emailValid) {
            fnEmailSend('emailModForm', emailSend);
        }
    });
    // 인증번호 메일발송
    function fnEmailSend(formId, callback) {
        $.ajax({
            type : 'post',
            url:'/mypage/sendMail',
            data: $("#" + formId).serialize(),
            dataType: 'json',
            beforeSend: function() {
                loading('show');
            },
            success : function(data) {
                box_alert(data.result_msg, 'info');
                if ("0000" === data.result_code){
                    callback(data);
                }
            },
            error: function(request, status, error) {
                box_alert("관리자에게 문의하여 주시기바랍니다.", 'info');
            },
            complete : function() {
                setTimeout(function() {
                    loading('hide');
                }, 1000);
            }
        });
    }
    function emailSend(data) {
        var confirmNo = document.getElementById('confirm_no');
        clearInterval(countdownInterval2);
        startCountdown2('sendEmail', 'reSendEmail', 'countDown2');
        confirmNo.value = data.result_etc;
        confirmNo.focus();
    }
    function fnReload(){
        location.reload()
    }
    //주소 api
    function fnRegDeliveryLayer() {
        fnCmmResetDocumentValues('address_form');
        openLayer('#address_form');
        $("#address_form #layer_title").text("배송지 등록");
        $("#address_form #layer_idx").val("");
        $("#layer_name").focus();
    }

    function fnModDeliveryLayer(reqIdx, reqName, reqMobile, reqZip, reqAddr1, reqAddr2) {
        $("#address_form #layer_title").text("배송지 수정");
        $("#address_form #layer_idx").val(reqIdx);
        $("#address_form #layer_name").val(reqName);
        $("#address_form #layer_mobile").val(reqMobile);
        $("#address_form #layer_zip").val(reqZip);
        $("#address_form #layer_addr1").val(reqAddr1);
        $("#address_form #layer_addr2").val(reqAddr2);
        openLayer('#address_form');
    }

    function fnSetDelivery(adtp) {
        var idx = $("#address_form #layer_idx");
        var name = $("#address_form #layer_name");
        var mobile = $("#address_form #layer_mobile");
        var zip = $("#address_form #layer_zip");
        var addr1 = $("#address_form #layer_addr1");
        var addr2 = $("#address_form #layer_addr2");
        if(adtp===undefined){
            if($("#setDefault").prop("checked")) {
                adtp = $("#setDefault").val();
            }
        }

        if ("" === fnToNotNull(name.val())) {
            box_alert("이름을 입력해주세요", 'info', '', fnValidFocus, name);
            return;
        }else if(!/^[가-힣ㄱ-ㅎㅏ-ㅣa-zA-Z]+$/.test(name.val())){
            box_alert("이름은 문자만 입력해 주세요", 'info', '', fnValidFocus, name);
            return;
        }

        if ("" === fnToNotNull(mobile.val())) {
            box_alert("휴대폰 번호를 입력해주세요", 'info', '', fnValidFocus, mobile);
            return;
        }else if(!/^(01[0-9])(-)?(\d{3,4})(-)?(\d{4})$/.test(mobile.val())){
            box_alert("휴대폰 번호형식이 옳지 않습니다", 'info', '', fnValidFocus, mobile);
            return;
        }

        if ("" === fnToNotNull(zip.val())) {
            box_alert("주소를 검색해주세요", 'info', '', fnValidFocus, zip);
            return;
        }

        if ("" === fnToNotNull(addr1.val())) {
            box_alert("주소를 검색해주세요", 'info', '', fnValidFocus, addr1);
            return;
        }

        if ("" === fnToNotNull(addr2.val())) {
            box_alert("상세주소를 입력해주세요", 'info', '', fnValidFocus, addr2);
            return;
        }

        $.ajax({
            type : 'post',
            url:'/common/setDeliveryProcess',
            data: {
                "cmmIdx": idx.val(),
                "cmmName": name.val(),
                "cmmMbhp": mobile.val(),
                "cmmZipcode": zip.val(),
                "cmmAddress1": addr1.val(),
                "cmmAddress2": addr2.val(),
                "cmmAdtp":adtp
            },
            dataType: 'json',
            beforeSend: function() {
                loading('show');
            },
            success : function(data) {
                var resultCode = fnToNotNull(data.result_code);

                if ("0000" === resultCode) {
                    closeLayer('', 'address_form');
                    fnInitDeliveryLayer();
                } else {
                    box_alert(data.result_msg, 'info');
                }
            },
            complete : function() {
                setTimeout(function() {
                    loading('hide');
                }, 1000);
            }
        });
    }
    function fnChangeDelivery(reqIdx, reqName, reqHp, reqZip, reqAddr1, reqAddr2) {
        $("#address_form #layer_idx").val(reqIdx)
        $("#address_form #layer_name").val(reqName);
        $("#address_form #layer_mobile").val(reqHp);
        $("#address_form #layer_zip").val(reqZip);
        $("#address_form #layer_addr1").val(reqAddr1);
        $("#address_form #layer_addr2").val(reqAddr2);
        fnSetDelivery('D')
        closeLayer('', 'address_info');
    }

    function fnGetDeliveryData() {
        $.ajax({
            type : 'post',
            url:'/common/deliveryDetail',
            dataType: 'json',
            beforeSend: function(xhr) {

            },
            success : function(data) {
                var deliData = data.deliveryDetail;

                if (deliData != null) {
                    $(".inputCmmIdx").val(deliData.cmmIdx);
                    $(".divAds1").text(deliData.cmmName + " / " + deliData.cmmMbhp);
                    $(".divAds2").text("[" + deliData.cmmZipcode + "] " + deliData.cmmAddress1 + ", " + deliData.cmmAddress2);
                }
            },
            error: function (request, status, error) {
                alert("관리자에게 문의하여 주시기바랍니다.");
            },
            complete: function () {

            }
        });
    }

    function fnGetDeliveryList(reqDeliType) {
        $.ajax({
            type: 'post',
            url: '/common/deliveryList',
            dataType: 'json',
            beforeSend: function (xhr) {

            },
            success: function (data) {
                var list = data.deliveryList;
                var deliveryBody = document.getElementById('divDeliveryField');

                if (deliveryBody) {
                    while (deliveryBody.firstChild) {
                        deliveryBody.removeChild(deliveryBody.firstChild);
                    }
                }

                if (list.length === 0) {
                    var row = document.createElement('div');
                    row.classList.add('list_empty');
                    row.innerHTML = 
                        '<div class="empty">등록된 배송지가 없습니다.<br/>배송지를 등록해주세요.</div>';

                    deliveryBody.appendChild(row);
                }

                for (var i = 0; i < list.length; i++) {
                    var baseDeliveryHtml = '';
                    var baseName = fnToNotNull(list[i].cmmName);
                    var baseHp = fnToNotNull(list[i].cmmMbhp);
                    var baseZip = fnToNotNull(list[i].cmmZipcode);
                    var baseAddr1 = fnToNotNull(list[i].cmmAddress1);
                    var baseAddr2 = fnToNotNull(list[i].cmmAddress2);

                    if ("D" === list[i].cmmAdtp) {
                        baseDeliveryHtml = '<div class="cate">기본 배송지</div>';
                    }

                    var row = document.createElement('div');
                    row.classList.add('label_item');
                    var temHtml = 
                        '<label class="label_cnt checkbox radio_type1">' +
                            '<input type="radio" name="ads_check" onclick="fnChangeDelivery(\'' + list[i].cmmIdx + '\',\'' + baseName + '\',\'' + baseHp + '\',\'' + baseZip + '\',\'' + baseAddr1 + '\',\'' + baseAddr2 + '\');">' +
                            '<span class="ck_icon"></span>' +
                            '<span class="ck_line"></span>' +
                            '<div class="address_cnt">' +
                                baseDeliveryHtml +
                                '<div class="address_basic">' +
                                    '<div class="name">' + baseName + ' / ' + baseHp + '</div>' +
                                    '<div class="ads">[' + baseZip + '] ' + baseAddr1 + ', ' + baseAddr2 + '</div>' +
                                '</div>' +
                                '<div class="text_btns">' +
                                    '<div><button type="button" onclick="fnModDeliveryLayer(\'' + list[i].cmmIdx + '\',\'' + baseName + '\',\'' + baseHp + '\',\'' + baseZip + '\',\'' + baseAddr1 + '\',\'' + baseAddr2 + '\');">수정</button></div>';
                    
                    if(list[i].cmmAdtp !== 'D'){
                        temHtml += '<div><button type="button" onclick="fnDeleteDelivery(\'' + list[i].cmmIdx + '\')">삭제</button></div>';
                    }
                    
                    temHtml += '</div></div></label>';
                    row.innerHTML = temHtml;

                    deliveryBody.appendChild(row);
                }
            },
            error: function (request, status, error) {
                alert("관리자에게 문의하여 주시기바랍니다.");
            },
            complete: function () {

            }
        });
    }

    function fnDeleteDelivery(reqIdx) {
        if ("" === fnToNotNull(reqIdx)) {
            box_alert("배송지를 입력해 주세요.", 'info');
            return;
        }
        $.ajax({
            type : 'post',
            url:'/common/deleteDelivery',
            data: {
                "cmmIdx": reqIdx
            },
            dataType: 'json',
            beforeSend: function() {
                loading('show');
            },
            success : function(data) {
                var resultCode = fnToNotNull(data.result_code);

                if ("0000" === resultCode) {
                    closeLayer('', 'address_info');
                    fnInitDeliveryLayer();
                } else {
                    box_alert(data.result_msg, 'info');
                }
            },
            complete : function() {
                setTimeout(function() {
                    loading('hide');
                }, 1000);
            }
        });
    }

    function fnInitDeliveryLayer() {
        $("#address_form #layer_idx").val(""); // 키 초기화
        fnCmmResetDocumentValues('address_form'); // input 값 초기화
        fnGetDeliveryData(); // 기본배송정보 리로드
        fnGetDeliveryList(); // 배송정보 리스트 리로드
    }
    function fnValidFocus(attr) {
        attr.focus();
    }

    function fnUpdateMemberInfo(){
        var befSms = 0;
        var befmbreception = 0;
        if($("#mbsms").prop("checked")) {
            $("#mbsms").val("1");
        }else{
            $("#mbsms").val("0");
        }
        if($("#mbreception").prop("checked")) {
            $("#mbreception").val("1");
        }else{
            $("#mbreception").val("0");
        }
        $.ajax({
            type : 'post',
            url:'/mypage/updateMemberInfo',
            data: $("#updateMemberForm").serialize(),
            dataType: 'json',
            async: 'false',
            beforeSend: function() {
                loading('show');
            },
            success : function(data) {
                if ("0000" === data.result_code) {
                    var now = new Date();
                    var changedYear = now.getFullYear();
                    var changedMonth = now.getMonth() + 1;
                    var changedDate = now.getDate();
                    
                    if(befSms != $("#mbsms").val() && befmbreception != $("#mbreception").val()){
                        box_confirm('문자메시지 및 이메일 수신 동의 변경이 완료되었습니다.<br>ㆍ변경일시:' + changedYear + '년 ' + changedMonth + '월 ' + changedDate + '일<br>ㆍ전송자:테스트','info','',fnReload);
                    }else if(befSms != $("#mbsms").val()){
                        if("1"==$("#mbsms").val()){
                            box_confirm('문자메시지 수신 동의가 완료되었습니다.<br>ㆍ동의일시:' + changedYear + '년 ' + changedMonth + '월 ' + changedDate + '일<br>ㆍ전송자:테스트','info','',fnReload);
                        }else if("0"==$("#mbsms").val()){
                            box_confirm('문자메시지 수신 거부가 완료되었습니다.<br>ㆍ거부일시:' + changedYear + '년 ' + changedMonth + '월 ' + changedDate + '일<br>ㆍ전송자:테스트','info','',fnReload);
                        }
                    }else if(befmbreception != $("#mbreception").val()){
                        if("1"==$("#mbreception").val()){
                            box_confirm('이메일 수신 동의가 완료되었습니다.<br>ㆍ동의일시:' + changedYear + '년 ' + changedMonth + '월 ' + changedDate + '일<br>ㆍ전송자:테스트','info','',fnReload);
                        }else if("0"==$("#mbreception").val()){
                            box_confirm('이메일 수신 거부가 완료되었습니다.<br>ㆍ거부일시:' + changedYear + '년 ' + changedMonth + '월 ' + changedDate + '일<br>ㆍ전송자:테스트','info','',fnReload);
                        }
                    } else {
                        box_confirm(data.result_msg,'info','알림',fnReload);
                    }
                }else{
                    box_confirm(data.result_msg,'info');
                }
            },
            error: function(request, status, error) {
                box_alert("관리자에게 문의하여 주시기바랍니다.", 'info');
            },
            complete : function() {
                setTimeout(function() {
                    loading('hide');
                }, 1000);
            }
        });
    }
    function goPage(){
        var options = {
            formId: "frmSubmit",
            method: "post",
            action: "/mypage/memberLeave",
            target: ""
        };
        fnCmmSubmitDynamicForm(options);
    }
</script>

<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script>
//주소 api
var element_layer = document.getElementById('daumAdressLayer');
var ads_layer = document.getElementById('ads_layer');

function execDaumPostcode(elm) {
    var target = document.getElementById(elm)
    new daum.Postcode({
        oncomplete: function(data) {
            var addr = ''; // 주소 변수
            var extraAddr = ''; // 참고항목 변수
            if (data.userSelectedType === 'R') { // 사용자가 도로명 주소를 선택했을 경우
                addr = data.roadAddress;
            } else { // 사용자가 지번 주소를 선택했을 경우(J)
                addr = data.jibunAddress;
            }
            if(data.userSelectedType === 'R'){
                if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
                    extraAddr += data.bname;
                }
                if(data.buildingName !== '' && data.apartment === 'Y'){
                    extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                }
                if(extraAddr !== ''){
                    extraAddr = ' (' + extraAddr + ')';
                }
            } else {
            }
            target.querySelector(".i_address_zip").value = data.zonecode;
            target.querySelector(".i_address_basic").value = addr;
            target.querySelector(".i_address_detail").value= '';
            target.querySelector(".i_address_detail").focus();
            closeLayer(ads_layer);
        },
        width : '100%',
        height : '100%',
        maxSuggestItems : 5
    }).embed(element_layer);
}
</script>
</body>
</html>